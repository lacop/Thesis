\begin{tikzpicture}[xcenter around={(M0LT)}{(M3RB)}]

% Triangle
\newcommand{\width}{16}
\newcommand{\height}{8}
\newcommand{\hoff}{0.25}
\newcommand{\voff}{0.25}
% Inner
\newcommand{\hhoff}{\hoff*4}
\newcommand{\hheight}{\height*0.3}
% Center / LCA top
\newcommand{\choff}{-1}
\newcommand{\cvoff}{1}

% Memory layout box
\newcommand{\memoff}{1}
\newcommand{\memw}{2}
\newcommand{\memh}{1}

\newcommand{\extd}{0}
\newcommand{\braceoff}{0.05}

\newcommand{\trianglecenter}[4]{
  \coordinate (#1) at ($1/3*(#2)+1/3*(#3)+1/3*(#4)$);
}

% Big Left/Right/Top
\coordinate (BL) at (0, 0);
\coordinate (BR) at (\width, 0);
\coordinate (BT) at (\width/2, \height);
% Centers
\trianglecenter{BC}{BL}{BR}{BT}
%\trianglecenter{TC}{TL}{TR}{TT}

% Outer triangle
\draw [dashed, ultra thick] (BL) -- (BR) -- (BT) -- (BL);

% Ordered file
\coordinate (M0LT) at ($ (BL) + (0, -\memoff) $);
\coordinate (M0RB) at ($ (M0LT) + (\memw, -\memh) $);
\coordinate (M1RT) at ($ (M0RB) + (\memw, \memh) $);
\coordinate (M3RT) at ($ (BR) + (0, -\memoff) $);
\coordinate (M3RB) at ($ (M3RT) + (0, -\memh) $);
\coordinate (M3LB) at ($ (M3RT) + (-\memw, -\memh) $);

\draw [ultra thick] (M0LT) rectangle (M3RB);

\newcommand{\leaves}{8}
\newcommand{\leafw}{\width/\leaves}

\foreach \i in {1,...,\leaves}
{
	\draw [thick] ($(M0LT) + (\i*\leafw - \leafw, 0)$) rectangle ++(\leafw, -\memh);
}

\newcommand{\leafd}{\leafw*0.5}
\newcommand{\leafrad}{15}
\newcommand{\leafh}{0.4};

\foreach \i in {1,...,\leaves}
{
	\node [thick, draw, inner sep=0, circle, minimum size=\leafrad] (L\i) at ($(BL) + (\i*\leafw - \leafd, \leafh)$) {};
	\draw [->, thick] (L\i) -- ($(M0LT) + (\i*\leafw - 0.5*\leafw, 0)$) ;
}

\foreach \i in {1,3,...,\leaves}
{
	\draw (L\i) -- ++(45:1) node[pos=1, fill=white, rotate=45] {$\cdots$};
}
\foreach \i in {2,4,...,\leaves}
{
	\draw (L\i) -- ++(135:1) node[pos=1, fill=white, rotate=135] {$\cdots$};
}


\draw [thick, decorate, decoration={brace, amplitude=5pt, raise=2pt}] (M3RT) -- (M3RB) node [midway, anchor=west, xshift=5pt] {Usporiadané pole};
\draw [thick, decorate, decoration={brace, amplitude=15pt, raise=2pt, mirror}] (BT)--(BL) node [rotate=45, midway, anchor=south, yshift=15pt] {Statický strom vo \vEB usporiadaní};
\end{tikzpicture}