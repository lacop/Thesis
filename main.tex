%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Univerzita Komenskeho - Thesis template
% Based on "Vnutorny predpis c. 12/2013"
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Global document settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Cl.7/2 - font size 12pt, portrait, A4
% Cl.7/6 - single side printing
\documentclass[a4paper,12pt,oneside,final]{memoir}
% Cl.7/2 - 1.5x line spacing
\OnehalfSpacing

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Page geometry
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Cl.7/3 - 3.5cm left, 2cm right
\setlrmarginsandblock{3.5cm}{2cm}{*}
% Cl.7/3 - 2.5cm left, 2.5cm right
\setulmarginsandblock{2.5cm}{2.5cm}{*}
\checkandfixthelayout

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Language, encoding, fonts
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{fontspec}
\usepackage{polyglossia}
\setdefaultlanguage{slovak}

% TODO pick fonts

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Important packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{microtype} % Typographical improvements
\usepackage{booktabs} % Better looking tables
\usepackage{pdfpages} % Include PDFs
\usepackage[bottom]{footmisc} % Move footnotes to the bottom

\usepackage[binary-units=true]{siunitx} % SI units + binary prefix (Mi, Gi, ...)
\usepackage{xspace} % Smart space for macros

% Figures
\newsubfloat{figure} % Allow subfigures
\usepackage{graphicx} % Images
\usepackage{tikz}
\usetikzlibrary{calc}


% Math related
\usepackage{amsmath,amsthm}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage{bm, mathrsfs}

% TODO? remove amsfonts, use unicode-math
% TODO? but change the ugly fonts
%\usepackage[]{unicode-math}

% Algoritms / pseudo-code
% TODO put in TOC under source code listings
\usepackage[chapter]{algorithm}
\makeatletter \renewcommand{\ALG@name}{Algoritmus}
\usepackage[noend]{algpseudocode} % No explicit "end function" line
\newcommand*\AlgLet[2]{\State #1 $\gets$ #2} % X <- Y assignment 

% Code syntax highlighting
\usepackage[chapter]{minted}
\usemintedstyle{tango}
\renewcommand\listingscaption{Zdrojový kód}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[authoryear,square,sort]{natbib}
\bibliographystyle{natdin}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Misc packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{lipsum} % Lorem ipsum (for testing)
\usepackage{todonotes}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Setup document preferences
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapterstyle{veelo} % TODO pick - veelo, madsen, ?

% Subsections and higher - numbered and in TOC
\setsecnumdepth{subsection}
\maxtocdepth{subsection}

% Headers / footers
\pagestyle{ruled}
\makeoddhead{ruled}{\sffamily\leftmark}{}{\sffamily\rightmark}

% Create custom plain page style with pagenumbers on right instead of centered
\makepagestyle{plainright}
\makeoddfoot{plainright}{}{}{\thepage}
\aliaspagestyle{chapter}{plainright}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Macros
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\unnumberedchapter}[1]{
    \chapter*[#1]{#1}
    \addcontentsline{toc}{chapter}{#1}
}

% Shortcuts
\newcommand{\cache}{\emph{cache}\xspace}
\newcommand{\Cache}{\emph{Cache}\xspace}
\newcommand{\disk}{\emph{disk}\xspace}
\newcommand{\aware}{\emph{cache-aware}\xspace}
\newcommand{\Aware}{\emph{Cache-aware}\xspace}
\newcommand{\obliv}{\emph{cache-oblivious}\xspace}
\newcommand{\extmem}{\emph{external-memory}\xspace}
\newcommand{\RAM}{\emph{RAM model}\xspace}

\newcommand{\bigO}[1]{\ensuremath{\mathcal{O}(#1)}}

\newcommand{\inlcode}[1]{\texttt{#1}\xspace}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lema}[theorem]{Lema}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Include document settings (title, name, ...)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{settings}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Start of document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
%\frontmatter
%    \input{cover}
%
%    \includepdf[pages=1]{\settingsAISfile}
%    \newpage
%    
%    \thispagestyle{plain}
%    \input{thanks}
%    \newpage
%    
%    \input{abstracts}
%    \newpage
%    
%    \tableofcontents*
%    \newpage
%    \listoffigures*
%    \newpage
%    \listoftables*
    
\mainmatter
    \input{contents}

\backmatter
    \nocite{*} % Add all bibliography uncited in text
    \bibliography{research}
\end{document}